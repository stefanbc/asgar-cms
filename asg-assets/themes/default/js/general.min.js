var FILE="asg-includes/ajax/general.php";var WIDTH=300;$(document).ready(function(){log("[c=\"font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; color: #fff; font-size: 20px; padding: 15px 20px; background: #444; border-radius: 4px; line-height: 100px; text-shadow: 0 1px #000\"]Koding Community Platform Log[c]");var e='font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; font-size: 13px; color: #444; padding: 8px 0; line-height: 40px';$(".logo").click(function(){href(this)});$(".nav_item[data-url]").click(function(){href(this)});$("#account").click(function(){TINY.box.show({url:FILE,post:"action=user-details",width:WIDTH,height:430,opacity:60,openjs:function(){tooltip("w");$("#account-email").on("change keyup",function(){var e=$("#account-email").val();change_info(e,"email")});$("#account-twitter").on("change keyup",function(){var e=$("#account-twitter").val();change_info(e,"twitter_handler")});$("#account-password").on("change keyup",function(){var e=$("#account-password").val();change_info(e,"password")});$("#account-notification").on("change",function(){var e=$("#account-notification").val();if(e=="1"){e=0}else if(e=="0"){e=1}change_info(e,"notification")});$("#account_form").submit(function(){$.post(FILE,{action:"delete-account",rand:Math.random()},function(e){if(e=="Yes"){TINY.box.hide();logout()}});return false})},topsplit:4})});$("#badges").click(function(){TINY.box.show({url:FILE,post:"action=badges",width:WIDTH,height:200,opacity:60,topsplit:4})});$("#disclaimer").click(function(){TINY.box.show({html:'<div class="box_inner"><h2>Usage</h2>This platform is for Koding users, to be able to send you invites, without waiting for Koding to send batches of invites!<h2>Invites</h2>In case you received multiple invite emails, you can forward them to other people, so they can also enjoy the Koding awesomeness!<h2>Privacy</h2>We take privacy seriously, we will not share any personal information with anybody, ever! However, the information you provide may be stored in a database for archive purposes.<h2>Issues</h2>If you notice any problems with this app or you just want to say hi you can drop a line <a href="mailto:koding.community@gmail.com" title="Issues">here</a>.</div>',width:WIDTH,height:375,opacity:60,openjs:function(){log.l("%cNo, no nothing to see here!",e)},topsplit:4})});$("#login").click(function(){TINY.box.show({html:'<div class="box_inner"><h2>Login / Create an account</h2>You can login and create an account in the same place!'+'<form id="login_form" name="login_form">'+'<div class="spacer2"><input type="text" class="input" name="username" id="username" placeholder="Your Koding username"></div>'+'<div class="spacer2"><input type="password" class="input tooltip" name="password" id="password" placeholder="Your password" original-title="Please use a different password than the one used on Koding!"></div>'+'<div class="spacer2 button_center_2">'+'<button class="button left" id="submit" type="submit">GO</button>'+'<button class="button right width-20 entypo-key tooltip" id="forgot_pass" original-title="I forgot my password!"></button>'+"</div>"+"</form>"+"</div>",width:WIDTH,height:220,opacity:60,openjs:function(){tooltip("s");$("#login_form").submit(function(){$.post(FILE,{action:"login-create",username:$("#username").val(),password:$("#password").val(),rand:Math.random()},function(e){if(e=="Yes"){TINY.box.hide();location.reload()}else if(e=="No 1"){input_error("#username","You forgot to enter the username!")}else if(e=="No 3"){input_error("#password","You got the password wrong!")}});return false});$("#forgot_pass").click(function(){TINY.box.show({html:'<div class="box_inner"><h2>Forgot password?</h2>Enter your email address and we\'ll reset your password in just a few seconds!'+'<form id="forgot_form" name="forgot_form">'+'<div class="spacer2"><input type="email" class="input" name="forgot_email" id="forgot_email" placeholder="Your email"></div>'+'<div class="spacer2 button_center">'+'<button class="button" id="submit" type="submit">RESET</button>'+"</div>"+"</form>"+"</div>",width:WIDTH,height:180,opacity:60,openjs:function(){$("#forgot_form").submit(function(){$.post(FILE,{action:"forgot_pass",email:$("#forgot_email").val(),rand:Math.random()},function(e){if(e=="Yes"){notify("Password Reset!","Your password has been changed. Please check your inbox (spam or trash) for the email with your new password.",110)}else{notify("Password Reset Error!","The email you provided is not in our database. Please try again with the correct email address!",100)}});return false})},topsplit:4})})},topsplit:4})});$("#logout").click(function(){logout()});$("#request_invite_form").submit(function(){$.post(FILE,{action:"request",email:$("#email").val(),rand:Math.random()},function(e){if(e=="Yes"){TINY.box.show({html:'<div class="box_inner">Your request has been registered. One community member will invite you as soon as possible! Thank you for your interest in Koding! Have a nice day!<br>'+'<div id="share">'+'<span>Spread the word</span><div id="shareme" data-url="http://stefanbc.beta.koding.com/request/" data-text="I\'ve just requested a @koding invite from the community! http://koding.com via "></div>'+"</div>"+"</div>",width:WIDTH,height:95,opacity:60,openjs:function(){$("#shareme").sharrre({share:{twitter:true,facebook:true,googlePlus:true},template:'<div class="box"><div class="left">Share</div><div class="middle"><a href="#" class="facebook">f</a><a href="#" class="twitter">t</a><a href="#" class="googleplus">+1</a></div><div class="right">{total}</div></div>',enableHover:false,enableTracking:true,render:function(e,t){$(e.element).on("click",".twitter",function(){e.openPopup("twitter")});$(e.element).on("click",".facebook",function(){e.openPopup("facebook")});$(e.element).on("click",".googleplus",function(){e.openPopup("googlePlus")})}})},topsplit:4});$("#email").val("").css({background:"#fff",color:"#444"})}else if(e=="Bad Email"){input_error("#email","Please enter a valid email!")}else if(e=="Exists"){input_error("#email","You have already requested an invite!")}else if(e=="Already a user"){input_error("#email","You are already a Koding user!")}else if(e=="No email"){input_error("#email","Please enter an email address first!")}});return false});setInterval(function(){$.ajax({type:"POST",url:FILE,data:{action:"get_numbers",rand:Math.random()},success:function(e){var t=e;var n=t.split(",");if(n[0]!=="No"){var r=$("#invites_number .number").text();if(r<n[0]){$("#invites_number .number").empty();$("#invites_number .number").fadeIn(500).html(n[0])}}$("#queue_number .number").empty();$("#queue_number .number").fadeIn(500).html(n[1])}})},2e3);$("#app_idea_form").submit(function(){notify("Coming soon!","This feature will be available soon!",60);var e=$("#app_name").val();var t=$("#email").val();TINY.box.show({html:'<div class="box_inner"><div class="spacer2">We need a few more details before you can submit your awesome contest entry!</div>'+'<form id="main_app_form" name="main_app_form">'+'<span>Your Email:</span><input type="text" class="input" name="app_email" id="app_email" value="'+t+'">'+'<span>Koding Username:</span><input type="text" class="input" name="username" id="username">'+'<span>App Name:</span><input type="text" class="input" value="'+e+'" name="app_name" id="app_name">'+'<span>App icon / screenshot URL:</span><input type="text" class="input" name="image_url" id="image_url">'+'<span>App short description:</span><textarea class="textarea" id="description"></textarea>'+'<div class="button_center">'+'<button class="button" id="submit" type="submit">SUBMIT ENTRY</button>'+"</div>"+"</form>"+"</div>",width:WIDTH,height:450,opacity:60,topsplit:4,openjs:function(){$("#main_app_form").submit(function(){$.post(FILE,{action:"submit_app_entry",email:$("#app_email").val(),username:$("#username").val(),app_name:$("#app_name").val(),image_url:$("#image_url").val(),description:$("#description").val(),rand:Math.random()},function(e){if(e=="Yes"){log(e);TINY.box.hide()}});return false})}});return false});$("#giveaway").click(function(){$(".first_wrapper").fadeOut(500,function(){$(".invite_wrapper").fadeIn(500,function(){$("html, body").animate({scrollTop:$(".invite_wrapper").offset().top},500)})})});$("h1.invite_back").click(function(){$(".invite_wrapper").fadeOut(500,function(){$(".first_wrapper").fadeIn(500)})});$("h1.invite_back").hover(function(){$(this).html("Request an Invite!").prepend($("<span>&#8678;</span>"))},function(){$(this).html("Giveaway an Invite!").find("span").remove()});tooltip("n");if(location.search=="?inviteList"){$(".special-edition").hide();$(".first_wrapper").hide();$(".invite_wrapper").show()}var t=window.location!=window.parent.location?true:false;if(t){if($(".invite_wrapper").is(":visible")){setInterval(function(){document.location="?invite_list=1"},1e4)}}$("#invites").load(FILE,{action:"paginate-invites",page:0},function(){$("#1-page_invites").addClass("active");tooltip("n");$(".remove_request").click(function(){$(".remove_request").tipsy("hide");var e=this.getAttribute("data-id");delete_request(e)})});$("#leaderboard").load(FILE,{action:"paginate-users",page:0},function(){$("#1-page_leaderboard").addClass("active")});$(".invite_wrapper .paginate_item").click(function(){var e=$(this).attr("id").split("-");var t=parseInt(e[0]);$(".invite_wrapper .paginate_item").removeClass("active");$("#invites").load(FILE,{action:"paginate-invites",page:t-1},function(){tooltip("n");$(".remove_request").click(function(){$(".remove_request").tipsy("hide");var e=this.getAttribute("data-id");delete_request(e)})});$(this).addClass("active")});$(".second_wrapper .paginate_item").click(function(){var e=$(this).attr("id").split("-");var t=parseInt(e[0]);$(".second_wrapper .paginate_item").removeClass("active");$("#leaderboard").load(FILE,{action:"paginate-users",page:t-1});$(this).addClass("active")})});analytics.initialize({"Google Analytics":"UA-23832918-8",GoSquared:"GSN-404465-F"})