TINY={};TINY.box=function(){var e,t,n,r,i,o=0;return{show:function(u){i={opacity:70,close:1,animate:1,fixed:1,mask:1,maskid:"",boxid:"",topsplit:2,url:0,post:0,height:0,width:0,html:0,iframe:0};for(s in u){i[s]=u[s]}if(!o){e=document.createElement("div");e.className="tbox";o=document.createElement("div");o.className="tinner";n=document.createElement("div");n.className="tcontent";t=document.createElement("div");t.className="tmask";r=document.createElement("div");r.className="tclose";r.v=0;document.body.appendChild(t);document.body.appendChild(e);e.appendChild(o);o.appendChild(n);t.onclick=r.onclick=TINY.box.hide;window.onresize=TINY.box.resize}else{e.style.display="none";clearTimeout(o.ah);if(r.v){o.removeChild(r);r.v=0}}o.id=i.boxid;t.id=i.maskid;e.style.position=i.fixed?"fixed":"absolute";if(i.html&&!i.animate){o.style.backgroundImage="none";n.innerHTML=i.html;n.style.display="";o.style.width=i.width?i.width+"px":"auto";o.style.height=i.height?i.height+"px":"auto"}else{n.style.display="none";if(!i.animate&&i.width&&i.height){o.style.width=i.width+"px";o.style.height=i.height+"px"}else{o.style.width=o.style.height="100px"}}if(i.mask){this.mask();this.alpha(t,1,i.opacity)}else{this.alpha(e,1,100)}if(i.autohide){o.ah=setTimeout(TINY.box.hide,1e3*i.autohide)}else{document.onkeyup=TINY.box.esc}},fill:function(e,t,n,r,s,u){if(t){if(i.image){var a=new Image;a.onload=function(){s=s||a.width;u=u||a.height;TINY.box.psh(a,r,s,u)};a.src=i.image}else if(i.iframe){this.psh('<iframe src="'+i.iframe+'" width="'+i.width+'" frameborder="0" height="'+i.height+'"></iframe>',r,s,u)}else{var f=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");f.onreadystatechange=function(){if(f.readyState==4&&f.status==200){o.style.backgroundImage="";TINY.box.psh(f.responseText,r,s,u)}};if(n){f.open("POST",e,true);f.setRequestHeader("Content-type","application/x-www-form-urlencoded");f.send(n)}else{f.open("GET",e,true);f.send(null)}}}else{this.psh(e,r,s,u)}},psh:function(e,t,r,i){if(typeof e=="object"){n.appendChild(e)}else{n.innerHTML=e}var s=o.style.width,u=o.style.height;if(!r||!i){o.style.width=r?r+"px":"";o.style.height=i?i+"px":"";n.style.display="";if(!i){i=parseInt(n.offsetHeight)}if(!r){r=parseInt(n.offsetWidth)}n.style.display="none"}o.style.width=s;o.style.height=u;this.size(r,i,t)},esc:function(e){e=e||window.event;if(e.keyCode==27){TINY.box.hide()}},hide:function(){TINY.box.alpha(e,-1,0,3);document.onkeypress=null;if(i.closejs){i.closejs()}},resize:function(){TINY.box.pos();TINY.box.mask()},mask:function(){t.style.height=this.total(1)+"px";t.style.width=this.total(0)+"px"},pos:function(){var t;if(typeof i.top!="undefined"){t=i.top}else{t=this.height()/i.topsplit-e.offsetHeight/2;t=t<20?20:t}if(!i.fixed&&!i.top){t+=this.top()}e.style.top=t+"px";e.style.left=typeof i.left!="undefined"?i.left+"px":this.width()/2-e.offsetWidth/2+"px"},alpha:function(e,t,n){clearInterval(e.ai);if(t){e.style.opacity=0;e.style.filter="alpha(opacity=0)";e.style.display="block";TINY.box.pos()}e.ai=setInterval(function(){TINY.box.ta(e,n,t)},20)},ta:function(r,s,u){var a=Math.round(r.style.opacity*100);if(a==s){clearInterval(r.ai);if(u==-1){r.style.display="none";r==e?TINY.box.alpha(t,-1,0,2):n.innerHTML=o.style.backgroundImage=""}else{if(r==t){this.alpha(e,1,100)}else{e.style.filter="";TINY.box.fill(i.html||i.url,i.url||i.iframe||i.image,i.post,i.animate,i.width,i.height)}}}else{var f=s-Math.floor(Math.abs(s-a)*.5)*u;r.style.opacity=f/100;r.style.filter="alpha(opacity="+f+")"}},size:function(e,t,s){if(s){clearInterval(o.si);var u=parseInt(o.style.width)>e?-1:1,a=parseInt(o.style.height)>t?-1:1;o.si=setInterval(function(){TINY.box.ts(e,u,t,a)},20)}else{o.style.backgroundImage="none";if(i.close){o.appendChild(r);r.v=1}o.style.width=e+"px";o.style.height=t+"px";n.style.display="";this.pos();if(i.openjs){i.openjs()}}},ts:function(e,t,s,u){var a=parseInt(o.style.width),f=parseInt(o.style.height);if(a==e&&f==s){clearInterval(o.si);o.style.backgroundImage="none";n.style.display="block";if(i.close){o.appendChild(r);r.v=1}if(i.openjs){i.openjs()}}else{if(a!=e){o.style.width=e-Math.floor(Math.abs(e-a)*.6)*t+"px"}if(f!=s){o.style.height=s-Math.floor(Math.abs(s-f)*.6)*u+"px"}this.pos()}},top:function(){return document.documentElement.scrollTop||document.body.scrollTop},width:function(){return self.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},height:function(){return self.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},total:function(e){var t=document.body,n=document.documentElement;return e?Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.clientHeight,n.clientHeight)):Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.clientWidth,n.clientWidth))}}}()